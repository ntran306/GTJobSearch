{% extends "base.html" %}
{% load static %}

{% block content %}
<head>
    <meta charset="UTF-8">
    <title>{{ job.name }} | {{ job.company }}</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
<div class="page-container">
    <!-- Page Header -->
    <div class="page-header">
        <h1 class="page-title"><i class="fas fa-clipboard-list"></i> Application Tracker</h1>
        <p class="page-subtitle">Track and manage all your job applications in one place</p>
    </div>

    {% if applications %}
        <!-- Statistics Cards -->
        <div class="applications-stats">
            <div class="stat-card">
                <div class="stat-number">{{ applications|length }}</div>
                <div class="stat-label">Total Applications</div>
            </div>
            <!-- Add more stat cards as needed -->
        </div>

        <!-- Applications Table -->
        <div class="applications-container">
            <div class="container-header">
                <h2><i class="fas fa-list"></i> Your Applications</h2>
                <span style="opacity: 0.9;">{{ applications|length }} application{{ applications|length|pluralize }}</span>
            </div>

            <table class="applications-table">
                <thead>
                    <tr>
                        <th>Job Title</th>
                        <th>Company</th>
                        <th>Status</th>
                        <th>Applied On</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for app in applications %}
                        <tr>
                            <td>
                                <a href="{% url 'jobs:show' app.job.id %}" class="job-title-link">
                                    {{ app.job.name }}
                                </a>
                            </td>
                            <td class="company-name">{{ app.job.company }}</td>
                            <td>
                                <span class="status-badge status-{{ app.status }}">
                                    <i class="fas fa-circle"></i>
                                    {{ app.get_status_display }}
                                </span>
                            </td>
                            <td class="date-applied">{{ app.created_at|date:"M d, Y" }}</td>
                            <td>
                                <div class="action-buttons">
                                    {% if app.id %}
                                        <a href="{% url 'applications:update_status' app.id %}" class="update-btn">
                                            <i class="fas fa-edit"></i> Update
                                        </a>
                                    {% endif %}
                                    <a href="{% url 'jobs:show' app.job.id %}" class="view-btn">
                                        <i class="fas fa-eye"></i> View
                                    </a>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <!-- No Applications State -->
        <div class="applications-container">
            <div class="no-applications">
                <i class="fas fa-clipboard-list"></i>
                <h3>No Applications Yet</h3>
                <p>Start applying for jobs to track your application progress here.</p>
                <a href="{% url 'jobs:index' %}" class="browse-jobs-btn">
                    <i class="fas fa-search"></i>
                    Browse Jobs
                </a>
            </div>
        </div>
    {% endif %}
</div>
</body>

{% endblock %}